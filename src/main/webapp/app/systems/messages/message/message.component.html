<nb-card>
    <nb-card-header>
        消息通知
    </nb-card-header>
    <nb-card-body>
        <div id="content">
            <div class="row">
                <div class="search_box">
                    <input type="text" class="search_input" placeholder="请输入关键字查询" [(ngModel)]="searchItem">
                    <button class="search_btn" (click)="search()">查询</button>
                </div>
                <!--<button class="btn {{ settingsBtn[0].class }} btn-demo" (click)="add()">{{-->
                <!--settingsBtn[0].buttonTitle}}-->
                <!--</button>-->
            </div>
            <table cellspacing="0">
                <tr>
                    <th>id</th>
                    <th>标题</th>
                    <th>内容</th>
                    <th>消息类型</th>
                    <th>目标类型</th>
                    <th>推送目标</th>
                    <th>时间</th>
                    <th>操作</th>
                </tr>
                <tr *ngFor="let message of messages;">
                    <td>{{message.id}}</td>
                    <td><span class="content_short">{{message.title}}</span></td>
                    <td><span class="content_short">{{message.content}}</span></td>
                    <td>
                        <span *ngIf="message.kind == 1">评论</span>
                        <span *ngIf="message.kind == 2">关注</span>
                        <span *ngIf="message.kind == 3">投稿审核</span>
                        <span *ngIf="message.kind == 4">升管审核</span>
                        <span *ngIf="message.kind == 5">禁言</span>
                    </td>
                    <td>
                        <span *ngIf="message.targetType == 1">全体</span>
                        <span *ngIf="message.targetType == 2">个人</span>
                    </td>
                    <td>{{message.targetUser}}</td>
                    <td>{{message.createdTime | date: 'yyyy-MM-dd HH:mm'}}</td>
                    <td>
                        <button title="查看"><i class="ion-ios-eye-outline" (click)="check(message.id)"></i></button>
                        <button title="删除"><i class="ion-trash-a" (click)="delete(message.id)"></i></button>
                    </td>
                </tr>
            </table>
        </div>
        <div *ngIf="messages">
            <div class="row justify-content-center">
                <ngb-pagination [collectionSize]="100000" [(page)]="page" [maxSize]="5" [rotate]="true"
                                [boundaryLinks]="true" (pageChange)="loadPage(page)">
                </ngb-pagination>
                <!--<ngb-pagination [collectionSize]="totalItems" [(page)]="page" [maxSize]="5" [rotate]="true"-->
                                <!--[boundaryLinks]="true" (pageChange)="loadPage(page)">-->
                <!--</ngb-pagination>-->
                <!--<label class="totalElements">共{{totalElements}}条记录</label>-->
                <!--<select class=" search_select_pageSize "[(ngModel)]="itemsPerPage" (ngModelChange)="pageSizechange()">-->
                    <!--<option value='10'>10条/页</option>-->
                    <!--<option value='15'>15条/页</option>-->
                    <!--<option value='20'>20条/页</option>-->
                    <!--<option value='30'>30条/页</option>-->
                    <!--<option value='50'>50条/页</option>-->
                <!--</select>-->
            </div>
        </div>
    </nb-card-body>
</nb-card>
